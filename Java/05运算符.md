# 运算符

某些与C语言相同的用法：

- 赋值和赋值的扩展运算（`+=`、`*=`、`=`等）
- 关系运算符（`>`、`!=`等）
- 位运算（`&`、`|`、`<<`等）
- 条件运算符，即`a ? b : c`

上述运算在后续均不会被提及

## 算数运算符

算数运算符与C语言的是一致的

某些运算规则：

1. 整数运算

	- 如果两个操作数有一个为`long`则结果也为`long`
	- 如果没有`long`则结果为`int`，**即使操作数全为`short`或`byte`，结果也是`int`**

2. 浮点运算

	- 两个操作数有一个为`double`则结果为`double`
	- 只有两个操作数都是`float`，则结果才为`float`

3. 取模运算

	**操作数可以为浮点数**，一般使用整数，结果是余数，余数符号和左边操作数符号相同，如： -7 % 3 = -1; 7 % 3 = 1

---

## 逻辑运算符

java中的逻辑运算符和C语言基本一致，只不过在java中的`&`和`|`就是逻辑与和逻辑或，而在C语言中的逻辑与是`&&`逻辑或是`||`。当然在java中C的逻辑与和逻辑或也都是适用的，且都有短路的特性。

**注意：java中的`&`和`|`没有短路的特性**

---

## 字符串连接符

`+`运算符两侧的操作数中只要有一个为字符串`String`类型，系统会自动将另一个操作数转换为字符串后再进行连接

```java
public class TestOperator05 {
	
	public static void main(String[] args) {
		int a = 3;
		int b = 4;
		System.out.println(a + b); // 输出 7
		
		String c = "3";
		System.out.println(c + b); // 输出 34，因为3是字符串所以被当做字符串拼接
		System.out.println(b + c);
		
		char x = 'h';
		char y = 'i';
		System.out.println(x + y); // 输出 209，实际上是h和i的unicode码在做加法
		System.out.println("" + x + y); // 输出 hi，因为第一个空字符串也是字符串
		System.out.println(x + y + ""); // 输出 209，因为x与y已经完成加法运算才与空字符串拼接的
	}
}
```

---

## 运算符优先级

| 优先级 |              运算符               |           类           |
| :----: | :-------------------------------: | :--------------------: |
|   1    |               `()`                |       括号运算符       |
|   2    |  `！`、`+（正号）`、`-（负号）`   |       一元运算符       |
|   2    |                `~`                |      位逻辑运算符      |
|   2    |            `++`、`--`             |     递增递减运算符     |
|   3    |           `*`、`/`、`%`           |       算数运算符       |
|   4    |             `+`、`-`              |       算数运算符       |
|   5    |            `>>`、`<<`             |   位左移、右移运算符   |
|   6    |       `>`、`>=`、`<`、`<=`        |       关系运算符       |
|   7    |            `==`、`!=`             |       关系运算符       |
|   8    |                `&`                |  位运算符、逻辑运算符  |
|   9    |                `^`                |  位运算符、逻辑运算符  |
|   10   |                `|`                |  位运算符、逻辑运算符  |
|   11   |               `&&`                |       逻辑运算符       |
|   12   |               `||`                |       逻辑运算符       |
|   13   |               `? :`               |       条件运算符       |
|   14   | `=`、`+=`、`-=`、`*=`、`/=`、`%=` | 赋值运算符、扩展运算符 |

建议：

- 不要刻意记优先级（主要是懒），优先用小括号组织！
- 逻辑与、或、非优先级一定要熟悉！（非 > 与 > 或）