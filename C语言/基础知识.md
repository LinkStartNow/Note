# 基本数据类型

整形数据类型一般有以下这些：

|      |          关键字          | 字节数（Byte） | 字面值后缀 | 打印格式 |
| :--: | :----------------------: | :------------: | :--------: | :------: |
|  1   |      (signed) char       |       1        |     -      |    %c    |
|  2   |      unsigned char       |       1        |     -      |   %hhu   |
|  3   |   (signed) short (int)   |       2        |     -      |   %hd    |
|  4   |   unsigned short (int)   |       2        |     -      |   %hu    |
|  5   |       (signed) int       |       4        |     -      |  %d或%i  |
|  6   |       unsigned int       |       4        |    u或U    |    %u    |
|  7   |   (signed) long (int)    |       4        |    l或L    |    %l    |
|  8   |   unsigned long (int)    |       4        |   ul或UL   |   %lu    |
|  9   | (signed) long long (int) |       8        |   ll或LL   |   %ll    |
|  10  | unsigned long long (int) |       8        |  ull或ULL  |   %llu   |
|  11  |          float           |       4        |    f或F    |  %f或%e  |
|  12  |          double          |       8        |     -      |  %f或%e  |

括号内的是不用写明的，省略表达的意思也是一样的

有无符号不会改变字节数，而只会影响表示的范围

## 类型转换

### 隐式转换

规律如下：

1. 整型向浮点型转换
2. 字节少向字节多转换
3. 有符号向无符号转换

### 显示转换

也就是强制转换

```c
int a = 3.14; // 自动类型转换
int b = (int)3.14 // 强制类型转换
```

# 运算符

## 关于结合性

首先，运算的第一步是看优先级的，优先级高的一定先运算

当两边优先级相同的时候，就要看结合性来判断左边先还是右边先了

比如`-`的结合方向是从左往右

```c
int a = 2 - 3 - 4;
```

那么这样的情况下，右边就是先算`2 - 3 `，然后再`-4`，而不是先算`3 - 4`再用`2`减

## 第一优先级

**全是从左往右结合的**

- []：数组下标
- ()：小括号
- .：对象成员选择
- ->：指针成员选择

## 第二优先级

**全是右往左结合的**

- -：负号
- ~：按位取反
- ++：自增
- --：自减
- *：指针取值
- &：取地址
- !：逻辑非
- (类型)：强制类型转换
- sizeof()：长度运算符

## 中等优先级

**全是左向右**

- 乘、除、取余
- 加、减
- 左移、右移
- 比较运算符（`>`、`>=`等）
- 等于（`==`）、不等于（`!=`）
- 按位与（`&`）
- 按位异或（`^`）
- 按位或（|）
- 逻辑与（&&）
- 逻辑或（||）

## 条件运算符

`? :`：是个三目运算符，结合方向从右到左，优先级比逻辑或要低

## 赋值运算

各种赋值运算：

**注意：结合性全是从右到左的**

这也是为什么可以：

```c
int x, y, z;
x = y = z = 1;
```

> 实际上是z先被赋值的

- +=
- -=
- <<=
- \>\>=
- &=
- ^=
- |=

## 逗号运算符

优先级最低的运算，也是从左往右的

返回最后一个逗号后的值

```c
#include <stdio.h>

int main()
{
	int a, b, c;
	int m;
	//m = a = 3, b = 4, c = 5, a + b + c;
	m = (a = 3, b = 4, c = 5, a + b + c);
	printf("%d\n", m);
}
```

> 结果m = 12
>
> 因为是从左往右的，于是最后运算a + b + c并返回

```c
#include <stdio.h>

int main()
{
	int a, b, c;
	int m;
	m = a = 3, b = 4, c = 5, a + b + c;
	//m = (a = 3, b = 4, c = 5, a + b + c);
	printf("%d\n", m);
}
```

> 结果m = 3
>
> 我们可以这样来看，首先，由逗号分隔了4个表达式，然后结合由左向右
>
> 于是先运算m = a = 3
>
> 由因为=的结合是右向左，于是先a = 3
>
> 然后m = a，也就是3