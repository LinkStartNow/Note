# 常用指令第二弹

## 1.mv指令

*可以用来移动文件*

`mv file 已存在文件夹`

例如：`mv a aa` 

> aa为已存在的文件夹

---

*还可以用来重命名*

如果后接的文件夹不存在则为重命名

例如：`mv c ccc`

> ccc为不存在的文件夹

如果后接的不为文件夹则也是重命名

例如：`mv b a`

> a为已存在的文件
>
> 结果是：a被删除
>
> b文件的名字改为a，内容仍为b中的内容

---

## 2.cp指令

可以实现拷贝功能若后面为不存在的文件则创建文件并把前面的内容考入

例如：`cp a b`

> b不存在
>
> 先创建b，将a的内容拷贝入b

若后面的文件存在，则直接覆盖

例如：`cp a c`

> c存在
>
> c中内容被a覆盖

----

## 3.查看文件内容

可以用cat指令直接查看

也可以用more或者less

如`more a`、`less a`

都是按q退出推荐使用`less`

若要查看文件前几行或后几行

则可以使用`head`或`tail`

如：`head -5 a`、`tail -10 b`

> 获取a的前5行
>
> 获取b的后10行

---

## 4.wc指令

可以计算文件的字数、列数、字节数

-c：显示字节数

-l：显示列数

-w：显示字数（以空格为分割）

> 比如“你好”没有空格算一个字
>
> “hello world”有空格，算两个字

----

## 5.查看目录大小

`du -hm 目录路径`：以M为单位查看某个目录的大小

`du -hb 目录路径`：以B为单位

`du -hk 目录路径`：以K为单位

**注意：查看的是目录下所有目录的大小**

不填则默认是当前目录

----

## 6.df指令

查看磁盘使用情况

一般情况首选-h

如：`df -h`

---

## 7.链接

链接分为硬链接（Hard Link）和符号链接（Symbolic Link）（也称作软链接）两种

### 硬链接

指令：`ln 文件名 硬链接名`

例如：`ln Hello.c HelloHard`

### 软链接

指令：`ln -s 文件名 软链接名`

例如：`ln -s Hello.c HelloSoft`

### 某些原理

建立硬链接后会使之前文件内容的计数器+1，而软链接不会

每被删除一个硬链接则计数器-1，直到为0则文件内容也被删除

硬链接可以直接指向文件内容，而软链接只能指向创建软链接的文件的文件属性

**于是，如果原文件被删除，则软链接会失效，硬链接依旧能找到正确的内容**

**注意：当原文件被删除后，若在当前路径内重新再创建同名的文件，则之前的软链接依旧能指向该新文件，同时获取的内容也是新文件中的内容**

---

## 8.whoami指令

可以查看当前用户的名字

使用举例：`whoami`（直接用就得了）

---

## 9.chmod指令

修改文件权限

例如：`chmod 0777 cc`

> 把文件cc的权限修改成777

**注意：普通用户只能修改自己创建的文件的权限，而root用户可以随便修改**

---

## 10.chown指令

可以用来修改文件所述的用户名，以及该用户名所属的组别

**注意：只能修改当前用户创建的文件的所属**

举例：`chown colin:colin a`

第一个colin是用户，第二个是组别

---

## 11.用户相关

- 使用su可以进入root用户模式，不过要输入密码就是了
- 要切换用户就su + 用户名，例如`su colin`切换用户为colin

**注意：root用户拥有最高权限，如果要暂时授权则可以在命令开头加上sudo**

例如：`sudo chown colin:colin a`：强行将a文件的所属全给colin用户

**注意：登录后首次使用sudo需要输入密码，之后在没有退出登录状态的情况下就不需要再输入密码也可以使用sudo了**

---

## 12.find指令

可以寻找给定目录下的指定文件

例如：`find ./ -name www.c`

> 在当前目录下按名字查找文件，文件名为www.c
>
> 结果：
>
> ./ccc/www.c

所以可知在子目录下也是可以的

---

## 13.grep指令

在指定文件中搜索特定内容

举例：`grep 'hello' a`

> 在文件a中查找字符串'hello'

### 常用参数

-R：递归查找，常用于配合文件夹

-i：不区分大小写

-n：显示行号

例如：`grep 'hello' ./ -Rin`

> 在当前目录下查询字符串'hello'，忽略大小写
>
> 会显示行数，并递归查询，所有文件都会访问到

**注意：文件夹一定要用-R**

---

## 14.网络相关

### ifconfig指令

跟windows中的ipconfig几乎一样就是用来查询网络信息的

### ping指令

对某个网站发起访问，windows中也能用

### nslookup指令

获取某个域名的IP地址，windows中也能用

举例：`nslookup www.baidu.com`获取百度的IP地址

## 15.man指令

可以用来查询手册

比如`man mv`可以用来查询mv指令的手册

man指令还可以用来查询函数的手册，不过需要加参数，2或者3都试一下就行了

例如：`man 3 printf`：查询printf函数的用法

## 16.压缩相关

### 解压

比如要解压tar包

则命令为：`tar xzvf 压缩包名`

