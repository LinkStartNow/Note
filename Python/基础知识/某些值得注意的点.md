# 关于交换

因为Python具有的特性，我们不需要手动添加临时变量来完成数据的交换，而是直接可以在一行内完成

```python
a, b = b, a
```

像上面这样简单的交换可以直接完成，但是在数组中使用稍不注意就容易出bug，尤其是数组下标可能被改变的情况

```python
a = [1, 2, 3, 4, 6]
# a[a[1]], a[1] = a[1], a[a[1]]
a[1], a[a[1]] = a[a[1]], a[1]
print(a)   # [1, 3, 3, 2, 6]
```

> 解释：
>
> 我们从过程开始一步步分析
>
> 首先，右边的内容会被当成一个元组包起来
>
> 然后从第一个元素开始赋值，也就是a[1] = a[a[1]]
>
> 也就是a[1] = 3
>
> 然后执行第二个赋值，但此时a[1]已经发生改变了，所以实际上执行的是a[3] = a[1]
>
> 这里还有一个坑点，因为我们都知道，右侧被当成一个元组了，元组的值是不会变的，于是此时右边的a[1]仍然是之前的a[1]，也就是2
>
> 于是最后a[3] = 2，就这样输出了 

## 解决1

我们可以先考虑左边会下标变化影响的元素，先进行改变，这样可以勉强解决当前的问题

```python
a = [1, 2, 3, 4, 6]
a[a[1]], a[1] = a[1], a[a[1]]
# a[1], a[a[1]] = a[a[1]], a[1]
print(a)   # [1, 3, 2, 4, 6]
```

当然，我们说勉强是因为这个需要记忆和分析，如果元素多了起来就不好搞了

## 解决2

这个就比较传统了，多用一个临时变量来解决，稳稳的不会出错

```python
a = [1, 2, 3, 4, 6]
t = a[1]
a[1] = a[t]
a[t] = t
# a[a[1]], a[1] = a[1], a[a[1]]
# a[1], a[a[1]] = a[a[1]], a[1]
print(a)   # [1, 3, 2, 4, 6]
```

---

# 切片

> 切片我们都非常熟了，但是带有负数下标的切片就值得我们注意了

## 带有负数下标

> 最常见的就是取最后几位了，为了方便数，我们一般采用负数来倒着数。
>
> 我们都知道切片操作也是左闭右开，那么右边该怎么取值呢

通过直接标下标的方式我们能取到最后一个之前

```python
l = list(range(10))
print(l[-3: -1])  # [7, 8]
```

但是，我们有的时候若想从倒数几位开始取完，那么我们第二个参数就不填，用一个冒号表示我们填入的是第一个参数

```python
l = list(range(10))
print(l[-3:])  # [7, 8, 9]
```

---

## 倒序提取

> 这个和range的方式是一样的，只要range熟悉一样的规则即可

```python
l = list(range(10))
print(l[-1: -4: -1])  # [9, 8, 7]
```

